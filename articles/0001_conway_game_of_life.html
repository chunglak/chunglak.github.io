<!DOCTYPE html>
<html lang="en">
<head>
<!-- Sun 19 April 2020 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Fun with Conway's Game of Life</title>
<meta name="generator" content="Org mode">
<link rel="stylesheet" type="text/css" href="/css/site.css"/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="/index.html"> UP </a>
 |
 <a accesskey="H" href="/index.html"> HOME </a>
</div><div id="preamble" class="status">
<br/>
</div>
<div id="content">
<header>
<h1 class="title">Fun with Conway's Game of Life</h1>
</header><nav id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org9bb677c">The Rules of the Game</a></li>
<li><a href="#org4455b1a">The Code</a></li>
</ul>
</div>
</nav>
<p>
<div id="page-date">Thu 16 April 2020</div><br>
</p>

<div class="abstract">
<p>
<a href="https://en.wikipedia.org/wiki/John_Horton_Conway">John Conway</a> passed away last week, on April 11th, 2020. To laymen and computer enthusiasts, he is probably best remembered for inventing in 1970 a cellular automaton that could, from very simple rules, sometimes exhibit almost life-like patterns. What better way to celebrate his life than with the <a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life">Game of Life</a>?<br>
</p>

</div>

<div style="text-align:center">
  <div>
    <img
      style="width:200px"
      src="https://imgs.xkcd.com/comics/rip_john_conway.gif"
      >
  </div>
  <div>
    <a href="https://xkcd.com/2293">
      Obligatory xkcd
    </a>
  </div>
</div>

<div id="outline-container-org9bb677c" class="outline-2">
<h2 id="org9bb677c">The Rules of the Game</h2>
<div class="outline-text-2" id="text-org9bb677c">
<p>
From the <a href="https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life">Wikipedia page</a>,<br>
</p>
<blockquote>
<p>
The universe of the Game of Life is an infinite, two-dimensional orthogonal grid of square cells, each of which is in one of two possible states, alive or dead, (or populated and unpopulated, respectively). Every cell interacts with its eight neighbours, which are the cells that are horizontally, vertically, or diagonally adjacent. At each step in time, the following transitions occur:<br>
</p>

<ul class="org-ul">
<li>Any live cell with fewer than two live neighbours dies, as if by underpopulation.<br></li>
<li>Any live cell with two or three live neighbours lives on to the next generation.<br></li>
<li>Any live cell with more than three live neighbours dies, as if by overpopulation.<br></li>
<li>Any dead cell with exactly three live neighbours becomes a live cell, as if by reproduction.<br></li>
</ul>

<p>
These rules, which compare the behavior of the automaton to real life, can be condensed into the following:<br>
</p>
<ul class="org-ul">
<li>Any live cell with two or three live neighbors survives.<br></li>
<li>Any dead cell with three live neighbors becomes a live cell.<br></li>
<li>All other live cells die in the next generation. Similarly, all other dead cells stay dead.<br></li>
</ul>

<p>
The initial pattern constitutes the seed of the system. The first generation is created by applying the above rules simultaneously to every cell in the seed; births and deaths occur simultaneously, and the discrete moment at which this happens is sometimes called a tick. Each generation is a pure function of the preceding one. The rules continue to be applied repeatedly to create further generations.<br>
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org4455b1a" class="outline-2">
<h2 id="org4455b1a">The Code</h2>
<div class="outline-text-2" id="text-org4455b1a">
<div class="org-src-container">
<pre class="src src-python">class Grid:
    def __init__(self, X, Y=None):
        self.X = X
        self.Y = Y if Y else X
        self.grid = [False] * (self.X * self.Y)

    def __str__(self):
        return "\n".join(
            [
                "".join(["X" if self.get(x, y) else " " for x in range(self.X)])
                for y in range(self.Y)
            ]
        )

    def image(self):
        from PIL import Image
        im=Image.new(mode='1',size=(self.X,self.Y))
        im.putdata([0 if c else 1 for c in self.grid])
        return im

    def p(self, x, y):
        return x + y * self.X

    def set(self, x, y, v=1):
        self.grid[self.p(x, y)] = v

    def get(self, x, y):
        if x &lt; 0 or x &gt;= self.X or y &lt; 0 or y &gt;= self.Y:
            return 0
        else:
            try:
                return self.grid[self.p(x, y)]
            except:
                print('x=%s y=%s p=%s' % (x,y,self.p(x,y)))
                raise


def set_random_initial_conditions(grid, n):
    import random

    ps = random.sample(range(len(grid.grid)), n)
    for p in ps:
        grid.grid[p] = True


def nb_neighbors(grid, x, y):
    nn = 0
    for xs in (-1, 0, 1):
        for ys in (-1, 0, 1):
            if xs == 0 and ys == 0:
                continue
            nn += 1 if grid.get(x + xs, y + ys) else 0
    return nn


def step(grid):
    new_grid = Grid(grid.X, grid.Y)
    for x in range(grid.X):
        for y in range(grid.Y):
            nn = nb_neighbors(grid, x, y)
            v = grid.get(x, y)
            if v:
                new_grid.set(x, y, 2 &lt;= nn &lt;= 3)
            elif nn == 3:
                new_grid.set(x, y, True)
    return new_grid
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<br/><br/><br/>
<div class='postamble'>
<span><a href='/index.html'>Considérations inactuelles</a> is the blog of <a href='mailto:chunglak@gmail.com'>Alfred Leung - 梁宗力</a></span>
<br> <span>Updated on Sun 19 April 2020</span>
</div>
</div>
</body>
</html>
